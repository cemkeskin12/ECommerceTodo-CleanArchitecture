var Molla=[];!function(e){"use strict";var t=0,i=992,o=[],a=Molla={initialised:!1,mobile:!1,init:function(){this.initialised||(this.initialised=!0,a.fillEmptyDemos(),a.getScrollbarWidth(),a.headerHeight(),a.stickyHeaderHeight(),a.stickyHeader(),a.dropdownToggle(),a.mobileMenu(),a.magnificPopup(),a.isotopeInit(),a.countDown(),a.countTo(),a.scrollTo(),a.scrollToTop(),a.lazyloadImg(),a.fitVid(),a.floatElements(),a.appearAnimate(),a.windowEvents(),a.videoControl())},requestTimeout:function(e,t){function i(s){a||(a=s);s-a>=t?e.call():n.val=o(i)}var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;if(!o)return setTimeout(e,t);var a,n=new Object;return n.val=o(i),n},getScrollbarWidth:function(){if(void 0===a.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),a.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return a.scrollbarSize},calcDesktopWidth:function(){i=992-a.getScrollbarWidth()},headerHeight:function(){return e("header:not(.fixed-header)").outerHeight()},stickyHeaderHeight:function(){e(".sticky-wrapper").each(function(){var i=e(this).find(".sticky-header");i.addClass("fixed"),t+=i.outerHeight(),i.removeClass("fixed")})},stickyHeader:function(){var t=e(".header"),o=t.height(),a=0,n=0;t.data("stickyOffset")&&(a=parseInt(t.data("stickyOffset"))),e(window).on("load scroll resize",function(){if(o=e(".header").height()+a,e(".sticky-header").length&&e(window).width()>=i){e(window).scrollTop()>o?e(".sticky-header").each(function(){if(!e(this).hasClass("fixed")){var t=e(this);t.closest(".sticky-wrapper").height(t.outerHeight()+"px"),t.hasClass("fixed")||(n=t.find(".dropdown-menu-wrapper.open-toggle").hasClass("show")),t.addClass("fixed"),e("body").hasClass("home")&&t.find(".dropdown-menu-wrapper.open-toggle").removeClass("show")}}):(e("body").hasClass("home")&&e(".dropdown-menu-wrapper.open-toggle").each(function(){var t=e(this);n&&t.closest(".sticky-header").hasClass("fixed")&&t.addClass("show")}),e(".sticky-header").removeClass("fixed"),e(".sticky-header").css("top",""));var t=e("#wpadminbar").height(),s=e(".sticky-header.fixed").css("z-index"),l=e(".sticky-header.fixed");e(".sticky-header.fixed").each(function(){l=e(this),t||(t=0),e(this).css("top",t+"px"),t+=e(this).outerHeight(),e(this).css("z-index",s),s--}),l.parent().siblings(".sticky-wrapper").find(".sticky-header.fixed").css("box-shadow","none")}})},dropdownToggle:function(){e(".dropdown-menu-wrapper.open-toggle>.dropdown-toggle").on("click",function(t){e(this).parent().toggleClass("show").data("closable",!0),t.preventDefault(),t.stopPropagation()}),e("body").on("click",function(){e(".dropdown-menu-wrapper.open-toggle.show").each(function(){var t=e(this);t.data("closable")&&t.removeClass("show")})})},mobileMenu:function(){e(".mobile-menu-toggler").on("click",function(t){e("body").toggleClass("mmenu-active"),e(this).toggleClass("active"),t.preventDefault()}),e(".mobile-menu-overlay, .mobile-menu-close").on("click",function(t){e("body").removeClass("mmenu-active"),e(".menu-toggler").removeClass("active"),t.preventDefault()}),e("body").on("click",".mmenu-btn",function(t){var i=e(this).closest("li"),o=i.find("ul").eq(0);i.hasClass("open")?o.slideUp(300,function(){i.removeClass("open")}):o.slideDown(300,function(){i.addClass("open")}),t.stopPropagation(),t.preventDefault()})},magnificPopup:function(){e.fn.magnificPopup&&e(".btn-iframe").magnificPopup({type:"iframe",removalDelay:600,preloader:!1,fixedContentPos:!1,closeBtnInside:!1})},layoutInit:function(t,i){if(e.fn.isotope&&!t.hasClass("float-grid")){void 0==i&&(i=".grid-item");var o={itemSelector:i,layoutMode:"masonry",getSortData:{order:"[data-creative-order] parseInt",order_lg:"[data-creative-order-lg] parseInt",order_md:"[data-creative-order-md] parseInt"}};if(void 0==t)e("body").find('[data-toggle="isotope"]').each(function(){var t=e(this),i=t.data("isotope-options"),n=e.extend({},o,i);t.isotope(n),a.isotopeFilter(t.siblings(".nav-filter"),t)});else if("isotope"==t.data("toggle")){Object.setPrototypeOf(t.get(0),HTMLElement.prototype),t.find(i).each(function(){Object.setPrototypeOf(e(this).get(0),HTMLElement.prototype)});var n=t.data("isotope-options"),s=e.extend({},o,n);t.isotope(s),a.isotopeFilter(t.siblings(".nav-filter"),t)}a.requestTimeout(function(){e(window).trigger("scroll")},500),e(window).on("resize",function(i){void 0==t?(e("body").find('[data-toggle="isotope"] .grid-item:not(.appear-animate)').css("animation-fill-mode","none").css("-webkit-animation-fill-mode","none"),e("body").find('[data-toggle="isotope"] .grid-item.appear-animate.animated').css("animation-fill-mode","none").css("-webkit-animation-fill-mode","none")):(t.find(".grid-item:not(.appear-animate)").css("animation-fill-mode","none").css("-webkit-animation-fill-mode","none"),t.find(".grid-item.appear-animate.animated").css("animation-fill-mode","none").css("-webkit-animation-fill-mode","none"))})}},isotopeFilter:function(t,i){t.find("a").on("click",function(o){var n=e(this),s=n.attr("data-filter");t.find(".active").removeClass("active"),i.isotope({filter:s,transitionDuration:"0.5s"}),i.css("transition","height .5s"),a.requestTimeout(function(){e(window).trigger("scroll")},500),n.closest("li").addClass("active"),o.preventDefault()}),t.find("li:first-child > a").trigger("click"),i.addClass("loaded")},isotopeInit:function(){e.fn.isotope&&e('[data-toggle="isotope"]').each(function(){var t=e(this);"function"==typeof imagesLoaded?e(this).imagesLoaded(function(){a.layoutInit(t),e(".product-filter").length&&a.isotopeFilter(e(".product-filter"),t)}):(a.layoutInit(t),e(".product-filter").length&&a.isotopeFilter(e(".product-filter"),t))})},countDown:function(t){e.fn.countdown&&(void 0===t&&(t=e("body")),t.find(".deal-countdown").each(function(){if(void 0===e(this).data("countdown_initialized")||!e(this).data("countdown_initialized")){var t=e(this),i=t.data("until"),o=t.data("compact"),a=t.data("format")?t.data("format"):"DHMS",n=t.data("labels-short")?["Years","Months","Weeks","Days","Hrs","Mins","Secs"]:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],s=t.data("labels-short")?["Year","Month","Week","Day","Hr","Min","Sec"]:["Year","Month","Week","Day","Hour","Minute","Second"];e(this).hasClass("user_tz")?t.countdown({until:t.data("relative")?i:new Date(i),format:a,padZeroes:!0,compact:o,compactLabels:["y","m","w"," days,"],timeSeparator:" : ",labels:n,labels1:s,serverSync:new Date(e(this).data("time-now"))}):t.countdown({until:t.data("relative")?i:new Date(i),format:a,padZeroes:!0,compact:o,compactLabels:["y","m","w"," days,"],timeSeparator:" : ",labels:n,labels1:s}),e(this).attr("data-countdown_initialized",!0)}}))},countTo:function(t){e(".count").each(function(){var t=e(this);if(e.fn.countTo&&t.attr("data-to")){var i=function(){var i=e.Deferred();if(t.closest(".appear-animate").length){var o=t.closest(".appear-animate"),a=0,n=o.attr("data-appear-options");"string"==typeof n&&(n=JSON.parse(n.replace(/'/g,'"').replace(";",""))),a+=void 0==n.delay?0:n.delay,a+=void 0==n.duration?1500:n.duration,o.appear(function(){setTimeout(function(){i.resolve()},a)})}else i.resolve();return i.promise()}();e.when(i).done(function(i){e.fn.waypoint?t.waypoint(function(){e(this.element).countTo()},{offset:"90%",triggerOnce:!0}):t.countTo()})}})},scrollTo:function(){var o=e(".scroll-to");o.length&&o.on("click",function(o){var a=e(this).attr("href");if(0==a.indexOf("#"))s=e(a);else{var n=window.location.href;if(-1!=(n=n.substring(n.indexOf("://")+3)).indexOf("#")&&(n=n.substring(0,n.indexOf("#"))),a=a.substring(a.indexOf("://")+3),0==(a=a.substring(a.indexOf(n)+n.length)).indexOf("#"))var s=e(a)}if(s.length){var l=e(window).width()>=i?s.offset().top-t:s.offset().top;e("html, body").animate({scrollTop:l},600),o.preventDefault()}})},scrollToTop:function(){var t=e("#scroll-top");e(window).on("load scroll",function(){e(window).scrollTop()>=400?t.addClass("show"):t.removeClass("show")}),t.on("click",function(t){e("html, body").animate({scrollTop:0},800),t.preventDefault()})},lazyloadImg:function(t){void 0==t&&(t=e("body")),e.fn.lazyload&&t.find(".molla-lazyload, .molla-lazyload-back").each(function(){e(this).lazyload({effect:"fadeIn",effect_speed:400,appear:function(e,t){},load:function(t,i){e(this).hasClass("molla-lazyload")?e(this).css("padding-top","").removeClass("molla-lazyload"):e(this).removeClass("molla-lazyload-back")}})})},fitVid:function(){e.fn.fitVids&&(e(".fit-video").fitVids(),e(window).on("resize",function(){e(".fit-video").fitVids()}))},fillEmptyDemos:function(){for(var t,i,o=e("#sectionDemos .demo-filter a"),a=0,n="",s=0;s<o.length;s++)for(n=e(o[s]).attr("data-filter"),a=e("#sectionDemos .grid-item"+n).length,a=4*Math.ceil(a/4)-a;a>0;a--)1==a%4?i=400:2==a%4?i=200:3==a%4&&(i=800),t={name:"fadeInUpShort",delay:i},e("#sectionDemos .grid").append('<div class="grid-item '+n.slice(1)+'"><a class="demo-item coming-soon appear-animate" data-appear-options='+JSON.stringify(t)+"></a></div>")},floatElements:function(){e.fn.parallax&&e('[data-toggle="floating"]').each(function(t){e(this).parallax()})},appearAnimate:function(){e(".appear-animate:not(.animated)").each(function(){e(this).appear(function(){var t=e(this),i=t.attr("data-appear-options");"string"==typeof i&&(i=JSON.parse(i.replace(/'/g,'"').replace(";",""))),t.css("animation-duration",(void 0==i.duration?1e3:i.duration)+"ms"),void 0!=i.delay&&t.css("animation-delay",i.delay+"ms"),void 0!=i.timing&&t.css("animation-timing-function",i.timing),t.addClass((void 0==i.name?"fadeIn":i.name)+" animated")})})},checkScrollSection:function(){var t=e(window).scrollTop(),i=e(".sticky-header.fixed").innerHeight(),a=e(window).height()-i;if(e.isArray(o)){for(var n=-1,s=0;s<o.length&&t+i+a/2>=e(o[s])[0].offsetTop;s++)n=s;-1==n?e("#main-menu > li").removeClass("active"):e("#main-menu > li").eq(n).addClass("active").siblings().removeClass("active")}},videoControl:function(){e(".video-play").on("click",function(t){var i=e(this).closest(".intro-video");i.hasClass("playing")?i.removeClass("playing").addClass("paused").find("video")[0].pause():i.removeClass("paused").addClass("playing").find("video")[0].play(),t.preventDefault()}),e(".intro-video video").on("ended",function(){e(this).closest(".intro-video").removeClass("playing")})},windowEvents:function(){e(window).on("load resize",function(){a.calcDesktopWidth()}),e(window).on("load scroll resize",function(e){a.checkScrollSection()})}};e(window).on("load",function(){e("#main-menu .scroll-to").each(function(){o.push(e(this).attr("href"))}),Molla.init(),e("body").addClass("loaded")})}(jQuery);